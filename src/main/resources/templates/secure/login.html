<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="layout/layout">
<head>
<meta charset="UTF-8" />
<title>Login</title>
<link rel="stylesheet" type="text/css" th:href="@{/css/styles.css}"/>
<link rel="stylesheet" th:href="@{https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css}" />
<link rel="stylesheet" th:href="@{https://use.fontawesome.com/releases/v5.0.13/css/all.css}"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>
<body>
<div class="container">
<div th:replace="fragments/menu :: menu"></div>
	
    <form class="form-group" role="form" method="POST" th:action="@{/login}">
    	  <th:block th:if="${#session != null && #session.getAttribute('SPRING_SECURITY_LAST_EXCEPTION') != null}">
             <div th:if= "${#request.getParameter('error') == 'true'}"
                style="color: red; margin: 10px 0px;">
                Login Failed!!!<br /> Reason :
                <span th:utext="${#session.getAttribute('SPRING_SECURITY_LAST_EXCEPTION').message}"></span>
             </div>
         </th:block>
          
        <div class="form-group">
            <div class="col-md-3"></div>
            <div class="col-md-6">
                <h4>Please Login</h4>
                <hr/>
            </div>
        </div>
        <div class="row">
            <div class="col-md-3"></div>
            <div class="col-md-6">
                <div th:if="${param.error}" class="text-danger align-middle">
                    <i class="fa fa-close"></i> Invalid username and password.
                </div>
            </div>
        </div>
         <div class="row">
            <div class="col-md-3"></div>
            <div class="col-md-6">
                <div th:if="${param.logout}" class="alert alert-success align-middle">
                    <i class="fa fa-close"></i> You have been logged out.
                </div>
            </div>
        </div>
    
        <div class="row">
            <div class="col-md-3"></div>
            <div class="col-md-6">
                <div class="form-group has-danger">
                    <label class="sr-only" for="username">Email Address</label>
                    <div class="input-group mb-2 mr-sm-2 mb-sm-0">
                        <div class="input-group-addon" style="width: 2.6rem"><i class="fa fa-at"></i></div>
                        <input type="text" name="username" class="form-control" id="username" autofocus="autofocus"
                               placeholder="you@example.com" />
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-3"></div>
            <div class="col-md-6">
                <div class="form-group">
                    <label class="sr-only" for="password">Password</label>
                    <div class="input-group mb-2 mr-sm-2 mb-sm-0">
                        <div class="input-group-addon" style="width: 2.6rem"><i class="fa fa-key"></i></div>
                        <input type="password" name="password" class="form-control" id="password"
                               placeholder="Password"/>
                    </div>
                </div>
            </div>
        </div>
        <div class="row" style="padding-top: 1rem">
            <div class="col-md-3"></div>
            <div class="col-md-6">
                <button type="submit" class="btn btn-success"><i class="fa fa-sign-in"></i> Login</button>
                	<a class="btn btn-link" href="/password/forgotpassword">Forgot password</a>
      		</div>
        </div>
        <br>
        <div class="row" style="padding-top: 1rem">
        	<div class="col-md-3"></div>
            <div class="col-md-6" align="right">
                <a class="btn btn-link" href="/customer/signup">User Sign Up here!</a>
                <a class="btn btn-link" href="/admin/signup">Admin Sign Up here!</a>
                <a class="btn btn-link" href="/vendor/signup">Vendor Sign Up here!</a>
            </div>
       </div>
    </form>
</div>

<script>
	$('.active').removeClass('active');
	$('#login').addClass('active');
</script>
</body>
</html>